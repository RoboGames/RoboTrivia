(this["webpackJsonprobo-trivia"]=this["webpackJsonprobo-trivia"]||[]).push([[0],{26:function(e,a,t){e.exports=t(51)},34:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(23),l=t.n(s),o=t(2),i=t(3),c=t(5),u=t(4),m=t(24),p=t(7),h=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.showModal?n.a.createElement("div",{className:"wrapper modal"},n.a.createElement("p",null,"Choose Your Nicknames"),n.a.createElement("div",{className:"criteriaSection"},this.props.playerArray.map((function(a,t){return n.a.createElement("div",{key:"nickname"+t},n.a.createElement("label",{htmlFor:"name",className:"sr-only",key:"label"+t},"Player ",t+1),n.a.createElement("input",{type:"text",key:t,id:t,onChange:e.props.getNicknameFunc,className:"nicknameInput",name:"nicknameInput",placeholder:"Player "+(t+1),value:a.nickname}))})))):null}}]),t}(r.Component),d=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).showModal=function(a){e.state.numberOfPlayers>0?e.setState({showModal:!0}):e.setState({showModal:!1})},e.setPlayers=function(){var a=Array(parseInt(e.state.numberOfPlayers)).fill({nickname:"",score:0});e.setState({players:a})},e.getNickname=function(a){var t=Object(p.a)(e.state.players);t[a.target.id]={nickname:a.target.value,score:0},e.setState({players:t})},e.handleInput=function(a){e.setState(Object(m.a)({},a.target.name,a.target.value),(function(){e.setPlayers(),e.showModal(a)}))},e.submitInput=function(a){a.preventDefault(),e.state.category&&e.state.difficultyLevel&&e.state.numberOfPlayers?e.props.callApiFunc(e.state.category,e.state.difficultyLevel,e.state.numberOfPlayers,e.state.players,!0):alert("Please select all of the criteria.")},e.state={showModal:!1,players:[],numberOfPlayers:0,randomRobos:[]},e}return Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("header",null,n.a.createElement("div",{className:"wrapper"},n.a.createElement("img",{src:"",alt:""}),n.a.createElement("h1",null,"Robo",n.a.createElement("i",{className:"fas fa-robot"}),"Trivia"),n.a.createElement("form",{action:""},n.a.createElement("div",{className:"criteriaSection"},n.a.createElement("div",{className:"criteriaType"},n.a.createElement("label",{htmlFor:""},"Choose a Category"),n.a.createElement("select",{name:"category",id:"",onChange:this.handleInput},n.a.createElement("option",{value:""},"Choose..."),n.a.createElement("option",{value:"9"},"General Knowledge"),n.a.createElement("option",{value:"17"},"Science and Nature"),n.a.createElement("option",{value:"11"},"Films"),n.a.createElement("option",{value:"21"},"Sports"),n.a.createElement("option",{value:"27"},"Animals"))),n.a.createElement("div",{className:"criteriaType criteriaTypeTwo"},n.a.createElement("label",{htmlFor:""},"Difficulty Level"),n.a.createElement("select",{name:"difficultyLevel",id:"",onChange:this.handleInput},n.a.createElement("option",{value:""},"Choose..."),n.a.createElement("option",{value:"easy"},"Easy"),n.a.createElement("option",{value:"medium"},"Medium"),n.a.createElement("option",{value:"hard"},"Hard"))),n.a.createElement("div",{className:"criteriaType"},n.a.createElement("label",{htmlFor:""},"Number of Players"),n.a.createElement("select",{name:"numberOfPlayers",id:"",onChange:this.handleInput},n.a.createElement("option",{value:"0"},"Choose..."),n.a.createElement("option",{value:"1"},"1"),n.a.createElement("option",{value:"2"},"2"),n.a.createElement("option",{value:"3"},"3"),n.a.createElement("option",{value:"4"},"4"),n.a.createElement("option",{value:"5"},"5")))),n.a.createElement("p",null,"Each player will recieve 10 questions, players take turns answering unique questions"),n.a.createElement(h,{showModal:this.state.showModal,numberOfPlayers:this.state.numberOfPlayers,playerArray:this.state.players,getNicknameFunc:this.getNickname}),n.a.createElement("button",{className:"button",type:"submit",onClick:this.submitInput},"Let's Play"))))}}]),t}(r.Component),y=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).state={currentPlayer:""},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return!1===this.props.isPlaying?null:n.a.createElement("div",{className:"scorebar"},n.a.createElement("div",{className:"wrapper avatorContainer"},this.props.avatars.map((function(a,t){return n.a.createElement("div",{className:"playerAvatar"},n.a.createElement("img",{src:"https://robohash.org/".concat(a),alt:"cool guy"}),n.a.createElement("p",{class:"playerName"},e.props.playerData[t].nickname),n.a.createElement("p",null,"score: ",e.props.playerData[t].score))}))))}}]),t}(r.Component),v=t(9),f=t.n(v);t(32);f.a.initializeApp({apiKey:"AIzaSyC-EOfx9305TGGXDP9lYpjjXpI8s06haLc",authDomain:"robo-games.firebaseapp.com",databaseURL:"https://robo-games.firebaseio.com",projectId:"robo-games",storageBucket:"robo-games.appspot.com",messagingSenderId:"673193781123",appId:"1:673193781123:web:3d586b0a488a47979938b6"});var E=f.a,b=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).storeCurrentGame=function(){if(e.state.index!==e.props.renderQuestions.length-1)return null;var a=E.database().ref(),t={userName:e.state.allPlayers.nickname,userScore:e.state.allPlayers.score};a.push(t)},e.nextQuestion=function(a){if(console.log(a.target.value),a.target.value===e.props.renderQuestions[e.state.index].correct_answer){var t=Object(p.a)(e.state.allPlayers);t[e.state.playerIndex].score++,e.setState({allPlayers:t},(function(){e.iteratePlayer()}))}else e.iteratePlayer()},e.iteratePlayer=function(){e.state.playerIndex<e.state.allPlayers.length-1?e.setState({playerIndex:e.state.playerIndex+1,index:e.state.index+1}):e.setState({playerIndex:0,index:e.state.index+1})},e.state={allPlayers:[],index:0,userScore:0,playerIndex:0,highScores:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.database().ref().on("value",(function(a){var t=a.val();console.log(t);var r=[];for(var n in t)r.push({userName:t[n].userName,userScore:t[n].userScore});e.setState({highScores:r})}))}},{key:"componentDidUpdate",value:function(e){this.props.playerData!==e.playerData&&this.setState({allPlayers:this.props.playerData})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y,{isPlaying:this.props.isPlaying,renderQuestions:this.props.renderQuestions,avatars:this.props.avatars,playerData:this.state.allPlayers}),n.a.createElement("div",{className:"gameArea"},n.a.createElement("div",{className:"wrapper"},this.state.allPlayers.length>0&&this.state.index<=this.props.renderQuestions.length-1?n.a.createElement("h4",{className:"animate__animated animate__tada"},"Current Player: ",n.a.createElement("span",null,this.state.allPlayers[this.state.playerIndex].nickname)):null,0===this.props.renderQuestions.length?null:n.a.createElement("div",null,this.state.index<=this.props.renderQuestions.length-1?n.a.createElement("div",{className:"questionContainer"},n.a.createElement("h3",{className:"question"},n.a.createElement("span",null,"Q: "),this.props.renderQuestions[this.state.index].question),n.a.createElement("ul",null,this.props.renderQuestions[this.state.index].choices.map((function(a){return n.a.createElement("li",null,n.a.createElement("button",{className:"answersButton",onClick:e.nextQuestion,value:a},a))})))):n.a.createElement("div",null,n.a.createElement("h1",null,"Thanks for Playing!"),this.state.allPlayers.map((function(e){return n.a.createElement("p",null,e.nickname," your score is: ",e.score,"!")})),n.a.createElement("h1",null,"Leaderboard:"),this.state.highScores.map((function(e){return n.a.createElement("p",null,e.userName,": ",e.userScore)})))))))}}]),t}(r.Component),g=(t(34),t(25)),P=t.n(g),k=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(o.a)(this,t),(e=a.call(this)).smoothScroll=function(){e.gameRef.current.scrollIntoView({beahvior:"smooth",block:"start"})},e.choiceLibrary=function(e){var a=e.incorrect_answers,t=e.incorrect_answers.length+1,r=Math.floor(Math.random()*t);return a.splice(r,0,e.correct_answer),a},e.populateChoices=function(){var a=[];e.state.resultsArray.map((function(t,r){a.push({question:t.question,choices:e.choiceLibrary(t),correct_answer:t.correct_answer})})),e.setState({renderQuestions:a})},e.callApi=function(a,t,r,n,s){var l=5*r;P()({url:"https://opentdb.com/api.php",params:{category:a,amount:l,type:"multiple",difficulty:t}}).then((function(a){e.setState({resultsArray:a.data.results,numberOfPlayers:r,questionArray:a.data,players:n,isPlaying:s},(function(){e.generateAvatar(),e.populateChoices()})),e.state.resultsArray.length>0&&e.smoothScroll()})).catch((function(e){alert("Sorry, failed to load questions ")}))},e.generateAvatar=function(){for(var a=[],t=0;t<e.state.numberOfPlayers;t++){var r=Math.floor(1e3*Math.random());a.push(r)}e.setState({randomRobos:a})},e.state={resultsArray:[],questionArray:[],isPlaying:!1,randomRobos:[],currentPlayer:"",renderQuestions:[]},e.gameRef=n.a.createRef(),e}return Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(d,{callApiFunc:this.callApi}),n.a.createElement("main",{className:"gameArea",ref:this.gameRef},n.a.createElement(b,{avatars:this.state.randomRobos,isPlaying:this.state.isPlaying,playerData:this.state.players,renderQuestions:this.state.renderQuestions})),n.a.createElement("footer",null,n.a.createElement("div",{calssName:"wrapper"},n.a.createElement("p",null,"Copyright ",n.a.createElement("span",{"aria-hidden":"true"},"\xa9")," 2020 by Aleksandar Nikolic, Jane Yuan, Maliheh Naderan and Punnet Birdi"))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.c5695a48.chunk.js.map